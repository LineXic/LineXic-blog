---
title: '检查你的Ip是否为公网IP'
description: '什么？！运营商也会骗人？闹了一出学艺不精的笑话'
pubDate: '2025-08-30'
---

前几天我看了[《什么？一串数字居然能连接世界！》](https://www.kzhik.cn/articles/75a05f01-642a-4b73-91f6-756346ae71a5)这篇文章，想起来我之前申请到的公网 Ip

> [申请到公网Ip啦 —— LINUX DO](https://linux.do/t/topic/422605)

我就把我遇到的困难评论了出来：在浏览器访问 Ip 地址显示这个

```txt
Forbidden
Rejected request from RFC1918 IP to public server address
```

邮箱聊了一会后我们加上了微信他开始帮我 Trace ，结果返回如下

![Trace结果.webp](https://img.linexic.top/file/1756617228061_Trace结果.webp)

他帮我推测出以下几个显示以上图片结果可能的原因

1. 运营商故意拦截了
2. 路由器配置问题，建议检查一下防火墙

> 可能是防火墙原因，我这边抓包了一下 udp 数据报文没有完全到你那，可能是被拦截了

这种情况下有三种可能性

1. 包已经送达但是响应时包因为某些问题并未送达到我这
2. 包未送达中途因为某些原因丢失了
3. 路由器因为某些原因的故意不响应）

他还拿邮寄举例方便了理解

1. 信件投递过程中出现意外导致信件丢失
2. 收信者收到了但是没有回应
3. 收信者回应的信件在投递过程中丢失抓包只抓到了发出去的包，就这三种可能出现的问题

不过后面我们知道了是运营商的问题，大概率是第一种情况

我照着他说关掉了路由器的防火墙且重启了网关，我试着在本地Ping 返回如下结果

![ping.webp](https://img.linexic.top/file/1756617364196_ping.webp)

他说他那边也是这种情况我那时还以为路由器网关后台的 WAN Ip 和 查询到的 Ip 一致就是公网 Ip 了，直到他向我提出了质疑

> 你确定申请到ip了吗？

我那时还很确信自己申请到了，直到又一套连招

> 可是你的ip地址变动了啊<br>
正常申请到了应该是个固定的ip地址<br>
正常来说申请到的ip地址是不会变动的

这时我明白过来连忙翻找我们之前在邮箱交流时我发给他的 Ip 地址结果从我路由器关掉防火墙并重启后我上下文给他发的 Ip 就不一样了，原来是 Ip 进行了变动。我还真没注意到！！！我后知后觉

我告诉他自从 Ip 下来之后我就没有过多注意到具体后面的数字了，只是知道前面的数字一直没有动

> 因为ipv4实际上是2个部分，前面是网络号 其实你应该注意主机号的 因为网络号几乎不会变动

原来如此！受益！

在 Ipv4 愈发珍贵的今天，或许 Ipv6 配合 DDNS 也是不错的组合

> ipv6的全球单播地址是 2000::/3 也就是2或者3开头的都是全球单播地址，拥有2^125个IP地址 所以说运营商根本不心疼随便分配

以上。
